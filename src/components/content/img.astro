---
import type { HTMLAttributes } from "astro/types";
import { Image } from "astro:assets";

import { getImageImport } from "@/lib/get-image-import";

interface Props extends HTMLAttributes<"img"> {}

const { title = "", alt = "", src, width, height, ...rest } = Astro.props;
---

{
	src != null ? (
		src.startsWith("/") ? (
			<Image {...rest} title={title} alt={alt} src={getImageImport(src)} />
		) : (
			<img {...rest} title={title} alt={alt} height={height} src={src} width={width} />
		)
	) : null
}
